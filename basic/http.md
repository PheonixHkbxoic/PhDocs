

## HTTP/1.x与HTTP/2对比

相比 HTTP/1.x，HTTP/2 在底层传输做了很大的改动和优化：

-   **二进制分帧：**HTTP/2 采用二进制格式传输数据，而非 HTTP/1.x 的文本格式。 **HTTP/2 中，同域名下所有通信都在单个连接上完成，该连接可以承载任意数量的双向数据流。**每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，根据帧首部的流标识可以重新组装。 



-   **头部压缩：**HTTP/2 对消息头采用 HPACK 进行压缩传输，能够节省消息头占用的网络的流量。而 HTTP/1.x 每次请求，都会携带大量冗余头信息，浪费了很多带宽资源。头压缩能够很好的解决该问题。 

>   1.  HTTP/2在客户端和服务器端使用“首部表”来跟踪和存储之前发送的键－值对，对于相同的数据，不再通过每次请求和响应发送；
>
>   2.  首部表在HTTP/2的连接存续期内始终存在，由客户端和服务器共同渐进地更新;
>
>   3.  每个新的首部键－值对要么被追加到当前表的末尾，要么替换表中之前的值。



-   **多路复用：**直白的说就是所有的请求都是通过一个 TCP 连接并发完成。HTTP/1.x 虽然通过 pipeline 也能并发请求，但是多个请求之间的响应会被阻塞的，所以 pipeline 至今也没有被普及应用，而 HTTP/2 做到了真正的并发请求。同时，流还支持优先级和流量控制。当流并发时，就会涉及到流的优先级和依赖。优先级高的流会被优先发送。图片请求的优先级要低于 CSS 和 SCRIPT，这个设计可以确保重要的东西可以被优先加载完。

​       △HTTP1中，请求就因域名链接数已超过限制，而被挂起等待了一段时间

-   **Server Push：**服务端能够更快的把资源推送给客户端。例如服务端可以主动把 JS 和 CSS 文件推送给客户端，而不需要客户端解析 HTML 再发送这些请求。当客户端需要的时候，它已经在客户端了





## 链接

### [*HTTP*/2 相比 1.0 有哪些重大改进? - 知乎



### [*HTTP* *2.0* 协议详解_网络_zqjflash的专栏-CSDN博客](https://www.baidu.com/link?url=GVNQAXiPVi-StEnYO7aDXS9m8mZD7UO7Y6DND4H2WSxm0wGMDTfeCy2Iip3CaEgAxg-8QJ5TwABZlJE3Rv3lgzuuHQAXvuf0TbuAZMLlaHS&wd=&eqid=84cfb3ed0016ee1a000000035eae1f6e)

