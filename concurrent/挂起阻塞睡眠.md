1.什么是线程的挂起？

  线程的挂起操作实质上就是线程进入"非可执行"状态下，在这个状态下CPU不会分给线程时间片，进入这个状态可以用来暂停一个线程的运行。

  线程挂起后，可以通过重新唤醒线程来使之恢复运行。

2.为什么要挂起线程？

  cpu分配的线程片非常的短、同时也非常珍贵。避免资源的浪费。

3.挂起线程的方法？

 1、废弃的方法

     thread.suspend():该方法不会释放线程所暂用的资源。如果使用该方法将某个线程挂起，可能会使其他等待资源的线程死锁。         
    
     thread.resume():方法本身没有问题，但是不能独立于suspend()方法使用

 2、日常使用的方法

    wait() 暂停执行、放弃已获得的锁、进入等待状态
    
    niotify() 随机唤醒一个在等待锁的线程
    
    notifyAll() 唤醒所有在等待锁的线程，自行抢占cpu

3、什么时候使用挂起线程

     线程等待某些未就绪的资源时，先释放当前锁，避免资源浪费，等待的资源就绪后调用notify方法唤醒线程。






线程从创建、运行到结束总是处于下面五个状态之一：新建状态、就绪状态、运行状态、阻塞状态及死亡状态。

下图是使用时间片轮转法的操作系统进程的状态和它们之间的转换。

<img src="https://gitee.com/HKbxOIC/imgs/raw/master/PhDocs/concurrent/threadstate.jpg" style="zoom:150%;" />



挂起和睡眠是主动的，挂起恢复需要主动完成，睡眠恢复则是自动完成的，因为睡眠有一个睡眠时间，睡眠时间到则恢复到就绪态。而阻塞是被动的，是在等待某种事件或者资源的表现，一旦获得所需资源或者事件信息就自动回到就绪态。

睡眠和挂起是两种行为，阻塞则是一种状态。

操作系统中睡眠、阻塞、挂起的区别形象解释：

首先这些术语都是对于线程来说的。对线程的控制就好比你控制了一个雇工为你干活。你对雇工的控制是通过编程来实现的。

挂起线程的意思就是你对主动对雇工说：“你睡觉去吧，用着你的时候我主动去叫你，然后接着干活”。

使线程睡眠的意思就是你主动对雇工说：“你睡觉去吧，某时某刻过来报到，然后接着干活”。

线程阻塞的意思就是，你突然发现，你的雇工不知道在什么时候没经过你允许，自己睡觉呢，但是你不能怪雇工，肯定你这个雇主没注意，本来你让雇工扫地，结果扫帚被偷了或被邻居家借去了，你又没让雇工继续干别的活，他就只好睡觉了。至于扫帚回来后，雇工会不会知道，会不会继续干活，你不用担心，雇工一旦发现扫帚回来了，他就会自己去干活的。因为雇工受过良好的培训。这个培训机构就是操作系统。



## 链接

https://www.zhihu.com/question/42962803/answer/120217624



